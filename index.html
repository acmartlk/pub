<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0f0f0f" />
    <meta name="description" content="Heritage-inspired modern pub offering craft cocktails, elevated bites, and live music." />
    <title>The Copper Barrel Pub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <header class="site-header" id="top">
      <div class="container header-inner">
        <a href="#top" class="brand">
          <span class="brand-mark">CB</span>
          <span class="brand-name">The Copper Barrel</span>
        </a>
        <nav class="nav" id="site-nav" aria-label="Primary">
          <button class="nav-toggle" aria-controls="primary-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>
          <ul class="menu" id="primary-menu">
            <li><a href="#about">About</a></li>
            <li><a href="#menu">Menu</a></li>
            <li><a href="#events">Events</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#reserve" class="btn btn--sm open-modal-btn">Reserve</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      <!-- Hero Section -->
      <section class="hero" aria-label="Hero">
        <div class="hero-media" role="img" aria-label="Warm pub ambience with copper accents"></div>
        <div class="container hero-content">
          <h1 class="display">Heritage Meets Spirit</h1>
          <p class="lead">A refined pub experience blending classic charm with modern mixology.</p>
          <div class="hero-ctas">
            <a href="#menu" class="btn btn--primary">Explore Menu</a>
            <a href="#reserve" class="btn btn--ghost open-modal-btn">Book a Table</a>
          </div>
          <div class="badges">
            <span class="badge">Craft Cocktails</span>
            <span class="badge">Live Music</span>
            <span class="badge">Elevated Bites</span>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="section section--about">
        <div class="container grid grid--2">
          <div class="about-media reveal">
            <img src="https://images.unsplash.com/photo-1541976076758-347942db1973?q=80&w=1200&auto=format&fit=crop" alt="Bar counter with copper fixtures" />
          </div>
          <div class="about-copy reveal">
            <h2 class="h1">Our Story</h2>
            <p>
              Inspired by timeless public houses and the glow of hammered copper, The Copper Barrel is a celebration of conviviality. We
              pour award‑worthy classics and chef‑crafted pairings in a space designed for lingering conversations.
            </p>
            <ul class="ticks">
              <li>Seasonal ingredients & house infusions</li>
              <li>Curated whiskies and old‑world wines</li>
              <li>Live sessions every Thursday–Saturday</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Menu Section -->
      <section id="menu" class="section section--menu">
        <div class="container">
          <div class="section-head reveal">
            <h2 class="h1">Signature Menu</h2>
            <p class="muted">A peek into our favourites. Full menu available on request.</p>
          </div>
          <div class="cards">
            <article class="card reveal">
              <img src="https://images.unsplash.com/photo-1551024709-8f23befc6cf7?q=80&w=1200&auto=format&fit=crop" alt="Smoked Old Fashioned" />
              <div class="card-body">
                <h3>Smoked Old Fashioned</h3>
                <p>Bourbon, demerara, aromatic bitters, cherry smoke.</p>
                <span class="price">$12</span>
              </div>
            </article>
            <article class="card reveal">
              <img src="https://images.unsplash.com/photo-1551024709-8f23befc6cf7?q=80&w=1200&auto=format&fit=crop" alt="Citrus Gin Fizz" />
              <div class="card-body">
                <h3>Citrus Gin Fizz</h3>
                <p>Gin, yuzu, lemon, egg white, soda.</p>
                <span class="price">$11</span>
              </div>
            </article>
            <article class="card reveal">
              <img src="https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop" alt="Truffle Fries" />
              <div class="card-body">
                <h3>Truffle Parmesan Fries</h3>
                <p>Hand‑cut, truffle oil, parmesan snow, aioli.</p>
                <span class="price">$9</span>
              </div>
            </article>
            <article class="card reveal">
              <img src="https://images.unsplash.com/photo-1604908176997-4319fa2e0c7f?q=80&w=1200&auto=format&fit=crop" alt="Steak Bites" />
              <div class="card-body">
                <h3>Seared Steak Bites</h3>
                <p>Garlic butter, chive, charred lemon.</p>
                <span class="price">$14</span>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- Events Section -->
      <section id="events" class="section section--events">
        <div class="container">
          <div class="section-head reveal">
            <h2 class="h1">Live & Happenings</h2>
            <p class="muted">Weekly performances, tastings, and themed nights.</p>
          </div>
          <div class="slider" aria-label="Upcoming events">
            <button class="slider-btn prev" aria-label="Previous event">&#10094;</button>
            <div class="slides">
              <article class="slide is-active">
                <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1600&auto=format&fit=crop" alt="Jazz trio on stage" />
                <div class="slide-copy">
                  <h3>Thursday Jazz Sessions</h3>
                  <p>Local trio, 8–10 PM. No cover.</p>
                </div>
              </article>
              <article class="slide">
                <img src="https://images.unsplash.com/photo-1516683037151-9d9d637b2721?q=80&w=1600&auto=format&fit=crop" alt="Whisky tasting" />
                <div class="slide-copy">
                  <h3>Whisky Flight Fridays</h3>
                  <p>Guided tasting, 7 PM. Limited seats.</p>
                </div>
              </article>
              <article class="slide">
                <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1600&auto=format&fit=crop" alt="DJ night" />
                <div class="slide-copy">
                  <h3>Saturday Groove Night</h3>
                  <p>Guest DJ, 9 PM till late.</p>
                </div>
              </article>
            </div>
            <button class="slider-btn next" aria-label="Next event">&#10095;</button>
          </div>
        </div>
      </section>

      <!-- Gallery Section -->
      <section id="gallery" class="section section--gallery">
        <div class="container">
          <div class="section-head reveal">
            <h2 class="h1">Gallery</h2>
            <p class="muted">A glimpse of our ambience and favourites.</p>
          </div>
          <div class="masonry">
            <img class="reveal" src="https://images.unsplash.com/photo-1551024709-8f23befc6cf7?q=80&w=1200&auto=format&fit=crop" alt="Cocktail closeup" />
            <img class="reveal" src="https://images.unsplash.com/photo-1541976076758-347942db1973?q=80&w=1200&auto=format&fit=crop" alt="Bar shelves" />
            <img class="reveal" src="https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop" alt="Food platter" />
            <img class="reveal" src="https://images.unsplash.com/photo-1514362545857-3bc16c4c76ea?q=80&w=1200&auto=format&fit=crop" alt="Gin fizz" />
            <img class="reveal" src="https://images.unsplash.com/photo-1604908176997-4319fa2e0c7f?q=80&w=1200&auto=format&fit=crop" alt="Steak bites" />
          </div>
        </div>
      </section>

      <!-- Reserve Section -->
      <section id="reserve" class="section section--reserve">
        <div class="container grid grid--2">
          <div class="reserve-copy reveal">
            <h2 class="h1">Reserve Your Table</h2>
            <p>Weekends fill up fast. Book early and we’ll hold the best seats for you.</p>
            <div class="actions">
              <a class="btn btn--primary" href="mailto:reservations@copperbarrel.pub?subject=Table%20Reservation">Email Reservations</a>
              <a class="btn btn--ghost" href="tel:+10000000000">Call +1 (000) 000‑0000</a>
            </div>
            <p class="small muted">Groups of 8+? Ask about set menus and private areas.</p>
          </div>
          <div class="reserve-media reveal">
            <img src="https://images.unsplash.com/photo-1521017432531-fbd92d1cf1df?q=80&w=1200&auto=format&fit=crop" alt="Intimate seating" />
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="section section--contact">
        <div class="container grid grid--3">
          <div class="contact-block reveal">
            <h3>Visit Us</h3>
            <p>12 Copper Lane, Downtown<br/>Your City, Country</p>
          </div>
          <div class="contact-block reveal">
            <h3>Hours</h3>
            <ul class="hours">
              <li>Mon–Thu: 4 PM – 11 PM</li>
              <li>Fri: 4 PM – 1 AM</li>
              <li>Sat: 2 PM – 1 AM</li>
              <li>Sun: 2 PM – 10 PM</li>
            </ul>
          </div>
          <div class="contact-block reveal">
            <h3>Contact</h3>
            <p><a href="mailto:hello@copperbarrel.pub">hello@copperbarrel.pub</a><br/><a href="tel:+10000000000">+1 (000) 000‑0000</a></p>
            <div class="socials" aria-label="Social links">
              <a href="#" aria-label="Instagram" class="social">IG SVG</a>
              <a href="#" aria-label="Facebook" class="social">FB SVG</a>
              <a href="#" aria-label="TikTok" class="social">TT SVG</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="brand-row">
          <span class="brand-mark">CB</span>
          <span class="brand-name">The Copper Barrel</span>
        </div>
        <nav class="footer-nav">
          <a href="#about">About</a>
          <a href="#menu">Menu</a>
          <a href="#events">Events</a>
          <a href="#gallery">Gallery</a>
          <a href="#reserve">Reserve</a>
          <a href="#contact">Contact</a>
        </nav>
        <p class="small muted">
          © <span id="year"></span> The Copper Barrel Pub. All rights reserved.
        </p>
      </div>
    </footer>

    <!-- Reservation Modal -->
    <div class="modal" id="reservation-modal" aria-hidden="true" aria-modal="false">
      <div class="modal-backdrop" aria-label="Close modal"></div>
      <div class="modal-content">
        <button class="modal-close" aria-label="Close modal">&times;</button>
        <div class="modal-header">
          <h2 class="h1">Reserve Your Table</h2>
          <p class="muted">We look forward to hosting you</p>
        </div>
        <form id="reservation-form" class="reservation-form">
          <div class="form-row">
            <div class="form-group">
              <label for="date">Date <span class="required">*</span></label>
              <input type="date" id="date" name="date" required />
            </div>
            <div class="form-group">
              <label for="time">Time <span class="required">*</span></label>
              <input type="time" id="time" name="time" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="title">Title <span class="required">*</span></label>
              <select id="title" name="title" required>
                <option value="">Select...</option>
                <option value="Mr">Mr</option>
                <option value="Mrs">Mrs</option>
                <option value="Ms">Ms</option>
                <option value="Miss">Miss</option>
                <option value="Dr">Dr</option>
              </select>
            </div>
          </div>
	
          <div class="form-row">
            <div class="form-group">
              <label for="first-name">First Name <span class="required">*</span></label>
              <input type="text" id="first-name" name="first-name" required />
            </div>
            <div class="form-group">
              <label for="last-name">Last Name <span class="required">*</span></label>
              <input type="text" id="last-name" name="last-name" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="email">Email <span class="required">*</span></label>
              <input type="email" id="email" name="email" required />
            </div>
            <div class="form-group">
              <label for="phone">Phone <span class="required">*</span></label>
              <input type="tel" id="phone" name="phone" required />
            </div>
          </div>

         <div class="form-row">
            <div class="form-group">
              <label for="guests">Number of Guests <span class="required">*</span></label>
              <input type="number" id="guests" name="guests" min="1" required />
            </div>
            <div class="form-group">
              <label for="requests">Special Requests</label>
              <textarea id="requests" name="requests" rows="3"></textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn--primary">
              <span class="btn-text">Reserve Table</span>
              <span class="btn-spinner" style="display:none;">⏳</span>
            </button>
          </div>

          <div id="form-message" class="form-message" style="display:none;"></div>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      (function () {
        const navToggleButton = document.querySelector('.nav-toggle');
        const menuElement = document.getElementById('primary-menu');
        const yearElement = document.getElementById('year');
        const slideContainer = document.querySelector('.slides');
        const slides = Array.from(document.querySelectorAll('.slide'));
        const prevBtn = document.querySelector('.slider-btn.prev');
        const nextBtn = document.querySelector('.slider-btn.next');

        if (yearElement) yearElement.textContent = String(new Date().getFullYear());

        if (navToggleButton && menuElement) {
          navToggleButton.addEventListener('click', () => {
            const expanded = navToggleButton.getAttribute('aria-expanded') === 'true';
            navToggleButton.setAttribute('aria-expanded', String(!expanded));
            menuElement.classList.toggle('is-open');
          });
          menuElement.querySelectorAll('a').forEach(linkEl => {
            linkEl.addEventListener('click', () => {
              menuElement.classList.remove('is-open');
              navToggleButton.setAttribute('aria-expanded', 'false');
            });
          });
        }

        // Intersection Observer for reveal animations
        const revealElements = Array.from(document.querySelectorAll('.reveal'));
        if ('IntersectionObserver' in window && revealElements.length) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
              }
            });
          }, { threshold: 0.15 });
          revealElements.forEach(el => observer.observe(el));
        } else {
          revealElements.forEach(el => el.classList.add('is-visible'));
        }

        // Slider logic
        let currentIndex = 0;
        function updateSlider(index) {
          if (!slideContainer || !slides.length) return;
          currentIndex = (index + slides.length) % slides.length;
          const offset = -currentIndex * 100;
          slideContainer.style.transform = `translateX(${offset}%)`;
          slides.forEach((s, i) => s.classList.toggle('is-active', i === currentIndex));
        }
        if (prevBtn && nextBtn) {
          prevBtn.addEventListener('click', () => updateSlider(currentIndex - 1));
          nextBtn.addEventListener('click', () => updateSlider(currentIndex + 1));
        }
        if (slides.length) setInterval(() => updateSlider(currentIndex + 1), 6000);

        // Modal functionality
        const modal = document.getElementById('reservation-modal');
        const openModalBtns = document.querySelectorAll('.open-modal-btn');
        const closeModalBtn = document.querySelector('.modal-close');
        const modalBackdrop = document.querySelector('.modal-backdrop');
        const reservationForm = document.getElementById('reservation-form');
        const formMessage = document.getElementById('form-message');

        function openModal() {
          if (modal) {
            modal.classList.add('is-open');
            modal.setAttribute('aria-hidden', 'false');
            modal.setAttribute('aria-modal', 'true');
            document.body.style.overflow = 'hidden';
            const dateInput = document.getElementById('date');
            if (dateInput) {
              const today = new Date().toISOString().split('T')[0];
              dateInput.setAttribute('min', today);
            }
          }
        }

        function closeModal() {
          if (modal) {
            modal.classList.remove('is-open');
            modal.setAttribute('aria-hidden', 'true');
            modal.setAttribute('aria-modal', 'false');
            document.body.style.overflow = '';
            if (reservationForm) reservationForm.reset();
            if (formMessage) {
              formMessage.style.display = 'none';
              formMessage.className = 'form-message';
            }
          }
        }

        openModalBtns.forEach(btn => btn.addEventListener('click', (e) => {
          e.preventDefault();
          openModal();
        }));

        if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
        if (modalBackdrop) modalBackdrop.addEventListener('click', closeModal);
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && modal && modal.classList.contains('is-open')) closeModal();
        });

        // Web3Forms AJAX submission
        if (reservationForm) {
          reservationForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const submitBtn = reservationForm.querySelector('button[type="submit"]');
            const btnText = submitBtn.querySelector('.btn-text');
            const btnSpinner = submitBtn.querySelector('.btn-spinner');

            if (btnText) btnText.style.display = 'none';
            if (btnSpinner) btnSpinner.style.display = 'inline';
            submitBtn.disabled = true;
            if (formMessage) formMessage.style.display = 'none';

            try {
              const formData = new FormData(reservationForm);
              formData.append('access_key', '9c022256-0bdc-43c1-bcb7-445c8c9cec1c');

              const response = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
              });

              if (response.ok) {
                if (formMessage) {
                  formMessage.textContent = 'Reservation request sent successfully! We will confirm via email.';
                  formMessage.className = 'form-message success';
                  formMessage.style.display = 'block';
                }
                setTimeout(closeModal, 3000);
                reservationForm.reset();
              } else {
                throw new Error('Form submission failed');
              }
            } catch (error) {
              console.error('Form submission error:', error);
              if (formMessage) {
                formMessage.textContent = 'Error sending reservation. Please try again.';
                formMessage.className = 'form-message error';
                formMessage.style.display = 'block';
              }
            } finally {
              if (btnText) btnText.style.display = 'inline';
              if (btnSpinner) btnSpinner.style.display = 'none';
              submitBtn.disabled = false;
            }
          });
        }
      })();
    </script>
  </body>
</html>
